{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport React, { useEffect } from 'react';\nimport Link from 'next/link';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Row, Col } from 'react-bootstrap';\nimport Product from '../components/Product';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport Paginate from '../components/Paginate';\nimport ProductCarousel from '../components/ProductCarousel';\nimport Meta from '../components/Meta';\nimport { listProducts } from '../actions/productActions';\n\nconst HomeScreen = ({\n  match\n}) => {\n  match = match || {};\n  match.params = match.params || {};\n  const keyword = match.params.keyword;\n  const pageNumber = match.params.pageNumber || 1;\n  const dispatch = useDispatch();\n  const productList = useSelector(state => state.productList);\n  const {\n    loading,\n    error,\n    products,\n    page,\n    pages\n  } = productList;\n  useEffect(() => {\n    dispatch(listProducts(keyword, pageNumber));\n  }, [dispatch, keyword, pageNumber]);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Meta, {}), !keyword ? /*#__PURE__*/_jsx(ProductCarousel, {}) : /*#__PURE__*/_jsx(Link, {\n      to: \"/\",\n      className: \"btn btn-light\",\n      children: \"Go Back\"\n    }), /*#__PURE__*/_jsx(\"h1\", {\n      children: \"Latest Products\"\n    }), loading ? /*#__PURE__*/_jsx(Loader, {}) : error ? /*#__PURE__*/_jsx(Message, {\n      variant: \"danger\",\n      children: error\n    }) : /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(Row, {\n        children: products.map(product => /*#__PURE__*/_jsx(Col, {\n          sm: 12,\n          md: 6,\n          lg: 4,\n          xl: 3,\n          children: /*#__PURE__*/_jsx(Product, {\n            product: product\n          })\n        }, product._id))\n      }), /*#__PURE__*/_jsx(Paginate, {\n        pages: pages,\n        page: page,\n        keyword: keyword ? keyword : ''\n      })]\n    })]\n  });\n};\n\nexport async function getStaticPaths() {\n  const {\n    data: products\n  } = await axios.get('http://localhost:5000/api/products');\n  console.log('what the fuck', products);\n  const paths = products.map(product => ({\n    params: {\n      slug: product.slug\n    }\n  }));\n  return {\n    paths,\n    fallback: false\n  };\n}\nexport default HomeScreen;","map":null,"metadata":{},"sourceType":"module"}